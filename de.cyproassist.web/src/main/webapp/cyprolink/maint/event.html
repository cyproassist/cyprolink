<div data-lift="surround?with=default;at=content"
	prefix="
	rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
	foaf: http://xmlns.com/foaf/0.1/ 
	owl: http://www.w3.org/2002/07/owl#
	rdfs: http://www.w3.org/2000/01/rdf-schema#
	dcterms: http://purl.org/dc/terms/
	lf-maint: http://linkedfactory.org/vocab/maintenance#
	">

	<link rel="stylesheet" type="text/css" href="../css/app.css"
		data-lift="head"></link>

	<style data-lift="head">
.elementlist ul {
	list-style: none;
	padding: 0px;
}

.elementlist li {
	border: 1px solid grey;
	margin: 4px;
	padding: 5px;
	position: relative;
}

.elementlist li a {
	opacity: 1.0;
}

span[lang]::before {
	content: "";
}

.elementlist li .arrows {
	visibility: hidden;
}

.elementlist li:hover .arrows {
	visibility: visible;
}

div.add-element {
	margin: 4px;
	cursor: pointer;
}
</style>

	<script data-lift="head">
		require.config({
			urlArgs : "bust=" + (new Date()).getTime(),
			paths : {
				elementlist : "/cyprolink/js/elementlist"
			}
		});

		$(function() {
			require([ "elementlist" ], function(elementlist) {
				elementlist.attachTo(".details");
				elementlist.attachTo(".instructions");
			});
		});
	</script>

	<script data-lift="head">
		$(function() {
			var $language = $('.language');

			var params = enilink.params();
			if (params.lang) {
				$language.val(params.lang);
			}

			var lang = $language.val();
			$('[lang]').each(function() {
				var $this = $(this);
				if ($this.attr('lang') != lang) {
					$this.hide();
				} else {
					$this.show();
				}
			});

			$('[data-add="text"]').attr('data-lang', lang);
			$language.change(function() {
				params.lang = $(this).val();
				window.location.search = enilink.encodeParams(params);
			});
		});
	</script>

	<script data-lift="JS.templates"></script>
	<script data-lift="JS.rdfa"></script>

	<div about="?this" data-lift="rdfa">
		<div>
			<h3 style="display: inline-block" class="editable"
				property="lf-maint:text" content="?text" data-lift="rdf.label"></h3>

			<div style="text-align: right; display: flex" class="pull-right">
				<select class="form-control language">
					<option value="de">Deutsch</option>
					<option value="en">Englisch</option>
				</select>
			</div>
		</div>
		<div class="clearfix"></div>

		<!-- textarea class="query"></textarea -->

		<div class="details elementlist">
			<h3>Details</h3>

			<ul class="optional" data-next-rel="lf-maint:next">
				<!-- invisible element is required to update pointer to the head element of the linked list -->
				<li about="?this" style="display: none"
					data-next-rel="lf-maint:detail"><span rel="lf-maint:detail"
					resource="?firstDetail" class="next"></span></li>

				<li data-pattern="?firstDetail lf-maint:next* ?detail"
					class="clearable"></li>

				<li about="?detail" data-t="detail">
					<!-- the image --> <div><img src="../images/{}" about="?detail"
					property="lf-maint:file" content="?" class="optional"
					data-lift="rdf.label?to=src"></img></div>

					<div rel="lf-maint:next" resource="?" class="optional next"
						style="display: none"></div> <!-- the link --> <a
					class="btn-hover" href="{app}/describe?model={model}&resource={}"
					data-lift="rdf.ref?to=href"> <!-- the text label --> <span
						about="?detail" property="lf-maint:text" content="?detailText"
						class="optional" data-lift="rdf.label"></span> <!-- fall back: the URI -->
						<span data-unless="?detailText" about="?detail"
						data-lift="rdf.label"></span>
				</a>

					<div style="float: right" class="arrows">
						<a href="javascript://"><i
							class="glyphicon glyphicon-arrow-up"></i></a><a href="javascript://"><i
							class="glyphicon glyphicon-arrow-down"></i></a>
					</div>
				</li>
			</ul>

			<div class="add-element">
				<i data-t="51" class="glyphicon glyphicon-plus"></i>
			</div>
		</div>

		<div class="instructions elementlist">
			<h3>Actions</h3>

			<ul class="optional" data-next-rel="lf-maint:next">
				<!-- invisible element is required to update pointer to the head element of the linked list -->
				<li about="?this" style="display: none"
					data-next-rel="lf-maint:action"><span rel="lf-maint:action"
					resource="?firstIns" class="next"></span></li>

				<li data-pattern="?firstIns lf-maint:next* ?ins" class="clearable"></li>

				<li about="?ins" data-t="instruction">
					<div rel="lf-maint:next" resource="?" class="optional next"
						style="display: none"></div> <!-- the link --> <a
					class="btn-hover" href="{app}/describe?model={model}&resource={}"
					data-lift="rdf.ref?to=href"> <!-- the text label --> <span
						about="?ins" property="lf-maint:text" content="?insText"
						class="optional" data-lift="rdf.label"></span> <!-- fall back: the URI -->
						<span data-unless="?insText" about="?ins" data-lift="rdf.label"></span>
				</a>

					<div style="float: right" class="arrows">
						<a href="javascript://"><i
							class="glyphicon glyphicon-arrow-up"></i></a><a href="javascript://"><i
							class="glyphicon glyphicon-arrow-down"></i></a>
					</div>
				</li>
			</ul>

			<div class="add-element">
				<i data-t="51" class="glyphicon glyphicon-plus"></i>
			</div>
		</div>

		<div data-lift="embed?what=editsupport"></div>
	</div>
</div>